{"version":3,"sources":["webpack:///./src/views/Timeline.vue?8219","webpack:///src/views/Timeline.vue","webpack:///./src/views/Timeline.vue?a981","webpack:///./src/views/Timeline.vue"],"names":["_deleteBucket","_getBucketInfo","_getBuckets","views_Timelinevue_type_script_lang_js_","name","mounted","this","getBuckets","data","buckets","daterange","moment_default","subtract","watch","computed","num_events","sumBy_default","methods","asyncToGenerator_default","regenerator_default","a","mark","_callee2","_this","wrap","_context2","prev","next","$aw","sent","Promise","all","map_default","_ref","_callee","bucket","_context","getEvents","id","start","format","end","limit","events","abrupt","stop","_x","apply","arguments","orderBy_default","b","getBucketInfo","_callee3","bucket_id","_context3","getBucket","_x2","deleteBucket","_callee4","_context4","console","log","_x3","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","_v","model","value","callback","$$v","expression","directives","rawName","staticStyle","float","_s","color","clear","attrs","showRowLabels","queriedInterval","__webpack_exports__"],"mappings":"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","file":"static/js/23.382003bf9ada4a247a09.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Timeline\")]),_c('input-timeinterval',{model:{value:(_vm.daterange),callback:function ($$v) {_vm.daterange=$$v},expression:\"daterange\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.buckets !== null),expression:\"buckets !== null\"}]},[_c('div',[_c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(\"Events shown:  \"+_vm._s(_vm.num_events))]),_c('div',{staticStyle:{\"float\":\"right\",\"color\":\"#999\"}},[_vm._v(\"Drag to pan and scroll to zoom.\")])]),_c('div',{staticStyle:{\"clear\":\"both\"}}),_c('vis-timeline',{attrs:{\"buckets\":_vm.buckets,\"showRowLabels\":\"\",\"queriedInterval\":_vm.daterange}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!(_vm.buckets !== null && _vm.num_events)),expression:\"!(buckets !== null && num_events)\"}]},[_c('h1',[_vm._v(\"Loading...\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\ndiv\n  h2 Timeline\n\n  input-timeinterval(v-model=\"daterange\")\n\n  div(v-show=\"buckets !== null\")\n    div\n      div(style=\"float: left\")\n        | Events shown:  {{ num_events }}\n      div(style=\"float: right; color: #999\")\n        | Drag to pan and scroll to zoom.\n    div(style=\"clear: both\")\n    vis-timeline(:buckets=\"buckets\", showRowLabels=true, :queriedInterval=\"daterange\")\n  div(v-show=\"!(buckets !== null && num_events)\")\n    h1 Loading...\n</template>\n\n<script>\nimport moment from 'moment';\nimport _ from 'lodash';\n\nexport default {\n  name: \"Timeline\",\n  mounted: function() {\n    this.getBuckets();\n  },\n  data: () => {\n    return {\n      buckets: null,\n      daterange: [moment().subtract(1, \"hour\"), moment()],\n    }\n  },\n  watch: {\n    daterange() {\n      this.getBuckets();\n    }\n  },\n  computed: {\n    num_events() {\n      return _.sumBy(this.buckets, \"events.length\");\n    },\n  },\n  methods: {\n    getBuckets: async function() {\n      this.buckets = await this.$aw.getBuckets()\n      this.buckets = await Promise.all(_.map(this.buckets, async (bucket) => {\n        bucket.events = await this.$aw.getEvents(bucket.id, {\n          start: this.daterange[0].format(),\n          end: this.daterange[1].format(),\n          limit: -1\n        });\n        return bucket;\n      }));\n      this.buckets = _.orderBy(this.buckets, [(b) => b.id], [\"asc\"]);\n    },\n\n    getBucketInfo: async function(bucket_id) {\n      this.buckets[bucket_id] = await this.$aw.getBucket(bucket_id);\n    },\n\n    deleteBucket: async function(bucket_id) {\n      console.log(\"Deleting bucket \" + bucket_id);\n      await this.$aw.deleteBucket(bucket_id);\n      await this.getBuckets();\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timeline.vue?vue&type=template&id=cdded7b0&lang=pug&\"\nimport script from \"./Timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./Timeline.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}