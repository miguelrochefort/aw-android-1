(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{767:function(t,e,a){var r=a(795);"string"==typeof r&&(r=[[t.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(360)(r,n);r.locals&&(t.exports=r.locals)},768:function(t,e,a){var r=a(797);"string"==typeof r&&(r=[[t.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(360)(r,n);r.locals&&(t.exports=r.locals)},794:function(t,e,a){"use strict";var r=a(767);a.n(r).a},795:function(t,e,a){(t.exports=a(359)(!1)).push([t.i,".bucket-card .card-header, .bucket-card .card-footer {\n  padding: 0.5em 0.75em 0.5em 0.75em;\n}\n.bucket-card .card-body {\n  padding: 0.5em;\n}\n",""])},796:function(t,e,a){"use strict";var r=a(768);a.n(r).a},797:function(t,e,a){(t.exports=a(359)(!1)).push([t.i,".bucket-card[data-v-5db2c249] {\n  margin-bottom: 1em;\n}\n.bucket-last-updated[data-v-5db2c249] {\n  color: #666;\n}\n",""])},819:function(t,e,a){"use strict";a.r(e);var r,n,s,o=a(98),i=a.n(o),c=a(149),u=a.n(c),d=a(150),l=a.n(d),b=(a(719),a(748),a(749),{name:"Buckets",mounted:function(){this.getBuckets()},data:function(){return{buckets:[]}},methods:{getBuckets:(s=u()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=l.a,t.next=3,this.$aw.getBuckets();case 3:t.t1=t.sent,t.t2=[function(t){return t.id}],t.t3=["asc"],this.buckets=(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t,this)})),function(){return s.apply(this,arguments)}),getBucketInfo:(n=u()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$aw.getBucket(e);case 2:this.buckets[e]=t.sent;case 3:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)}),deleteBucket:(r=u()(i.a.mark(function t(e){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Deleting bucket "+e),t.next=3,this.$aw.deleteBucket(e);case 3:return t.next=5,this.getBuckets();case 5:this.$root.$emit("bv::hide::modal","delete-modal-"+e);case 6:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}}),p=(a(794),a(796),a(70)),m=Object(p.a)(b,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Buckets")]),a("b-alert",{attrs:{show:""}},[t._v("Are you looking to collect more data? Check out "),a("a",{attrs:{href:"https://activitywatch.readthedocs.io/en/latest/watchers.html"}},[t._v("the docs")]),t._v(" for more watchers."),a("br"),a("small",[a("b",[t._v("Note:")]),t._v(" This is currently not as easy as we want it to be, so some familiarity with programming is currently needed to run most of them.")])]),t._l(t.buckets,function(e){return a("b-card",{key:e.id,staticClass:"bucket-card",attrs:{header:e.id}},[a("b-button-toolbar",{staticClass:"float-left"},[a("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[a("b-button",{attrs:{variant:"primary",to:"/buckets/"+e.id}},[a("icon",{attrs:{name:"folder-open"}}),t._v("Open bucket")],1)],1),a("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[a("b-button",{attrs:{href:t.$aw.baseURL+"/api/0/buckets/"+e.id+"/export",download:"aw-bucket-export-"+e.id+".json",title:"Export bucket to JSON",variant:"outline-secondary"}},[a("icon",{attrs:{name:"download"}}),t._v("Export as JSON")],1)],1)],1),a("b-button-toolbar",{staticClass:"float-right"},[a("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"delete-modal-"+e.id,expression:"'delete-modal-' + bucket.id"}],attrs:{title:"Delete this bucket permanently",variant:"outline-danger"}},[a("icon",{attrs:{name:"trash"}}),t._v(" Delete bucket")],1)],1)],1),e.last_updated?a("small",{staticClass:"bucket-last-updated",attrs:{slot:"footer"},slot:"footer"},[a("span",[t._v("Last updated:")]),a("span",{staticStyle:{width:"8em","margin-left":"0.5em",display:"inline-block"}},[t._v(t._s(t._f("friendlytime")(e.last_updated)))])]):t._e(),a("b-modal",{attrs:{id:"delete-modal-"+e.id,title:"Danger!",centered:"","hide-footer":""}},[t._v('Are you sure you want to delete bucket "'+t._s(e.id)+'"?'),a("br"),a("br"),a("b",[t._v("This is permanent and cannot be undone!")]),a("hr"),a("div",{staticClass:"float-right"},[a("b-button",{staticClass:"mx-2",on:{click:function(a){return t.$root.$emit("bv::hide::modal","delete-modal-"+e.id)}}},[t._v("Cancel")]),a("b-button",{attrs:{variant:"danger"},on:{click:function(a){return t.deleteBucket(e.id)}}},[t._v("Confirm")])],1)])],1)}),a("br"),a("h3",[t._v("Import and export buckets")]),a("b-card-group",{staticClass:"deck"},[a("b-card",{attrs:{header:"Import buckets"}},[a("form",{attrs:{method:"post",action:t.$aw.baseURL+"/api/0/import",enctype:"multipart/form-data"}},[a("input",{attrs:{type:"file",name:"buckets.json"}}),a("input",{attrs:{type:"submit",value:"Import"}})]),a("span",[t._v("A valid file to import is a JSON file from either an export of a single bucket or an export from multiple buckets.\nIf there are buckets with the same name the import will fail")])]),a("b-card",{attrs:{header:"Export buckets"}},[a("b-button",{attrs:{href:t.$aw.baseURL+"/api/0/export",download:"aw-bucket-export.json",title:"Export bucket to JSON",variant:"outline-secondary"}},[a("icon",{attrs:{name:"download"}}),t._v("Export all buckets as JSON")],1)],1)],1)],2)},[],!1,null,"5db2c249",null);e.default=m.exports}}]);
//# sourceMappingURL=4.994238fe37cace9514e4.js.map