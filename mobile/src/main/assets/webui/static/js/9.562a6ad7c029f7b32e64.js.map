{"version":3,"sources":["webpack:///./src/util/time.js","webpack:///./src/util/color.js","webpack:///./src/visualizations/TimelineInspect.vue?9280","webpack:///./src/visualizations/TimelineInspect.vue?522f","webpack:///./src/visualizations/TimelineInspect.vue?15ee","webpack:///./src/visualizations/TimelineInspect.vue?8036","webpack:///./src/visualizations/timeline.js","webpack:///./src/visualizations/TimelineInspect.vue?6578","webpack:///src/visualizations/TimelineInspect.vue","webpack:///./src/visualizations/TimelineInspect.vue"],"names":["__webpack_require__","r","__webpack_exports__","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","n","seconds_to_duration","seconds","result","hrs","Math","floor","min","sec","get_day_start","datestr","datestart","moment","set","get_prev_day","add","get_next_day","d","getColorFromString","getTitleAttr","lodash_last__WEBPACK_IMPORTED_MODULE_0__","lodash_last__WEBPACK_IMPORTED_MODULE_0___default","Color","require","scale","scaleOrdinal","domain","customColors","afk","not-afk","hibernating","google-chrome","chromium","firefox","spotify","alacritty","vue","python","javascript","localhost","github.com","stackoverflow.com","lighten","google.com","google.se","messenger.com","facebook.com","appname","toLowerCase","abs","str","hash","length","i","charCodeAt","hashcode","bucket","e","type","data","app","status","startsWith","file","split","title","URL","url","hostname","replace","err","content","module","options","hmr","transform","insertInto","undefined","locals","exports","_node_modules_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_TimelineInspect_vue_vue_type_style_index_0_id_2a64f56e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","push","d3","_","set_status","container","text","timeline_elem","querySelector","titleinfo_list_elem","titleinfo_container_elem","timeline","select","innerHTML","append","attr","visualizations_timeline","create","titleinfo_container","document","createElement","style","width","height","overflowY","appendChild","update","events","total_duration","showAFK","chunkfunc","eventfunc","html","titleinfo_list","firstEvent","lastEvent","timeStart","timestamp","secSinceStart","duration","diff","curr_x","each","eventX","eventWidth","appcolor","hovercolor","darken","hex","rect","on","elem_id","title_event_box","titleinfo","getAttribute","show_info","infobox","time","infolist","subevents","t","inforow","clocktime","format","visualizations_TimelineInspectvue_type_script_lang_js_","name","props","mounted","this","$el","watch","chunks","show_afk","component","Object","componentNormalizer","_h","$createElement","_self","_c"],"mappings":"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","file":"static/js/9.562a6ad7c029f7b32e64.js","sourcesContent":["import moment from 'moment';\n\nexport default {\n    seconds_to_duration(seconds) {\n        var result = \"\";\n        var hrs = Math.floor(seconds/60/60);\n        var min = Math.floor(seconds/60%60);\n        var sec = Math.floor(seconds%60);\n        if (hrs != 0)\n            result += hrs + \"h\";\n        if (hrs != 0 || min != 0)\n            result += min + \"m\";\n        if (hrs == 0)\n            result += sec + \"s\";\n        return result;\n    },\n\n    get_day_start(datestr) {\n      // Get start time of date\n      var datestart = moment(datestr);\n      datestart.set('hour', 0);\n      datestart.set('minute', 0);\n      datestart.set('second', 0);\n      datestart.set('millisecond', 0);\n      return datestart;\n    },\n\n    get_prev_day(datestr){\n      var newdate = moment(datestr).add(-1, 'days');\n      return newdate;\n    },\n\n    get_next_day(datestr){\n      var newdate = moment(datestr).add(1, 'days');\n      return newdate;\n    },\n}\n","'use strict';\n\nimport _ from 'lodash';\nconst Color = require('color');\nconst d3 = require(\"d3\");\n\n\n// See here for examples:\n//   https://bl.ocks.org/pstuffa/3393ff2711a53975040077b7453781a9\n\nlet scale = d3.scaleOrdinal(['#90CAF9', '#FFE082', '#EF9A9A', '#A5D6A7']);\n\n// Needed to prewarm the color table\nscale.domain([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]);\n\nlet customColors = {\n    \"afk\": \"#EEE\",\n    \"not-afk\": \"#7F6\",\n    \"hibernating\": \"#DD6\",\n\n    \"google-chrome\": \"#6AA7FE\",   // Google Blue: \"#4885ed\"\n    \"chromium\": \"#8CF\", // Google Blue: \"#4885ed\"\n    \"firefox\": \"#F94\", // Firefox Orange: \"#E55B0A\"\n    \"spotify\": \"#5FA\",  // Spotify Green: \"#1ED760\"\n    \"alacritty\": \"#FD8\",\n\n    \"vue\": \"#5d9\", // Vue teal #4fc08d\n    \"python\": \"#369\", // Python blue #2b5b84\n    \"javascript\": \"#f6b\", // JavaScript pink #eb47a5\n\n    // Developer domains\n    \"localhost\": \"#CCC\",\n    \"github.com\": \"#EBF\",\n    \"stackoverflow.com\": Color(\"#F48024\").lighten(0.3),\n\n    \"google.com\": \"#0AF\",\n    \"google.se\": \"#0AF\",\n\n    // Social media sites\n    \"messenger.com\": Color(\"#3b5998\").lighten(0.5),\n    \"facebook.com\": Color(\"#3b5998\").lighten(0.5),\n};\n\nfunction hashcode(str){\n    let hash = 0;\n    if (str.length === 0) {\n      return hash;\n    }\n    for (var i = 0; i < str.length; i++) {\n        var character = str.charCodeAt(i);\n        hash = ((hash<<5)-hash)+character;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n\nexport function getColorFromString(appname) {\n    appname = appname || \"\";\n    appname = appname.toLowerCase();\n    return customColors[appname] || scale(Math.abs(hashcode(appname) % 20));\n}\n\nexport function getTitleAttr(bucket, e) {\n  if(bucket.type == \"currentwindow\") {\n    return e.data.app;\n  } else if(bucket.type == \"web.tab.current\") {\n    try {\n      return (new URL(e.data.url)).hostname.replace(\"www.\", \"\");\n    } catch(err) {\n      return e.data.url;\n    }\n  } else if(bucket.type == \"afkstatus\") {\n    return e.data.status;\n  } else if(bucket.type.startsWith(\"app.editor\")) {\n    return _.last(e.data.file.split(\"/\"));\n  } else {\n    return e.data.title;\n  }\n}\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=style&index=0&id=2a64f56e&scoped=true&lang=scss&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=style&index=0&id=2a64f56e&scoped=true&lang=scss&\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=style&index=0&id=2a64f56e&scoped=true&lang=scss&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import mod from \"-!../../node_modules/style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=style&index=0&id=2a64f56e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=style&index=0&id=2a64f56e&scoped=true&lang=scss&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"svg[data-v-2a64f56e] {\\n  border: 1px solid #999;\\n  border-radius: 0.5em;\\n}\\n\", \"\"]);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\"use strict\";\n\n/*\n * Creates a colored timeline where you can hover for more info.\n */\n\nconst d3 = require(\"d3\");\nconst Color = require(\"color\");\nconst _ = require(\"lodash\");\nconst moment = require(\"moment\");\n\nimport {getColorFromString} from \"../util/color.js\"\n\nimport time from \"../util/time.js\";\n\nfunction show_info(container, elem_id) {\n  var title_event_box = container.querySelector(\"#\"+elem_id);\n  var titleinfo = container.querySelector(\".titleinfo-container\");\n  titleinfo.innerHTML = title_event_box.innerHTML;\n  titleinfo.style.height = title_event_box.getAttribute(\"height\");\n}\n\nfunction create(container) {\n  // Clear element\n  container.innerHTML = \"\";\n\n  // svg for the colored timeline\n  d3.select(container).append(\"svg\")\n    .attr(\"class\", \"apptimeline\")\n    .attr(\"viewBox\", \"0 0 100 10\")\n    .attr(\"width\", \"100%\");\n\n  // Hidden svg image that stores all titleinfo for each timeperiod\n  d3.select(container).append(\"div\")\n    .attr(\"class\", \"titleinfo-list\")\n    .attr(\"display\", \"none\");\n\n  // Container for titleinfo that has a fixed size and a overflow scroll\n  let titleinfo_container = document.createElement(\"div\");\n  titleinfo_container.style.width = \"100%\";\n  titleinfo_container.style.height = \"200px\";\n  titleinfo_container.style.overflowY = \"scroll\";\n  container.appendChild(titleinfo_container);\n\n  // Titleinfo box that changes content depending on what was timeperiod was last recently hovered on\n  d3.select(titleinfo_container).append(\"div\")\n      .attr(\"width\", \"100%\")\n      .attr(\"class\", \"titleinfo-container\");\n}\n\nfunction set_status(container, text){\n  let timeline_elem = container.querySelector(\".apptimeline\");\n  let titleinfo_list_elem = container.querySelector(\".titleinfo-list\");\n  let titleinfo_container_elem = container.querySelector(\".titleinfo-container\");\n\n  let timeline = d3.select(timeline_elem);\n  timeline_elem.innerHTML = \"\";\n  titleinfo_list_elem.innerHTML = \"\";\n  titleinfo_container_elem.innerHTML = \"\";\n\n  timeline.append(\"text\")\n   .attr(\"x\", \"0\")\n   .attr(\"y\", \"3\")\n   .text(text)\n   .attr(\"font-family\", \"sans-serif\")\n   .attr(\"font-size\", \"3\")\n   .attr(\"fill\", \"black\")\n}\n\nfunction update(container, events, total_duration, showAFK, chunkfunc, eventfunc){\n  let timeline = d3.select(container.querySelector(\".apptimeline\")).html(null);\n  let titleinfo_list = d3.select(container.querySelector(\".titleinfo-list\")).html(null);\n  d3.select(container.querySelector(\".titleinfo-container\")).html(null);\n\n  if (events.length <= 0){\n    set_status(container, \"No data\");\n    return;\n  }\n\n  if(showAFK) {\n    var firstEvent = events[0];\n    var lastEvent = events[events.length-1];\n\n    var timeStart = moment(firstEvent.timestamp);\n    var timeEnd = moment(lastEvent.timestamp).add(lastEvent.duration, \"seconds\");\n\n    var secSinceStart = timeEnd.diff(timeStart, \"seconds\", true);\n\n    // If we want to show from 00:00\n    //timeStart = timeStart.startOf('day');\n  }\n\n  // Iterate over each app timeperiod\n  let curr_x = 0;\n  _.each(events, function(e, i) {\n    // Timeline rect\n\n    let eventX, eventWidth;\n    if(showAFK) {\n      let eventBegin = moment(e.timestamp);\n      eventX = eventBegin.diff(timeStart, \"seconds\", true) / secSinceStart;\n      eventX = eventX * 100 + \"%\";\n      eventWidth = e.duration / secSinceStart * 100 + \"%\";\n    } else {\n      eventX = curr_x;\n      eventWidth = e.duration / total_duration * 100;\n    }\n\n    var appcolor = getColorFromString(chunkfunc(e));\n    var hovercolor = Color(appcolor).darken(0.4).hex();\n\n    let eg = timeline.append(\"g\")\n      .attr(\"id\", \"timeline_event_\"+i);\n\n    let rect = eg.append(\"rect\")\n      .attr(\"x\", eventX)\n      .attr(\"y\", 0)\n      .attr(\"width\", eventWidth)\n      .attr(\"height\", 10)\n      .style(\"fill\", appcolor)\n      .on(\"mouseover\", () => {\n          rect.style(\"fill\", hovercolor);\n          show_info(container, \"titleinfo_event_\" + i);\n      })\n      .on(\"mouseout\", () => {\n          rect.style(\"fill\", appcolor);\n      })\n\n    // Titleinfo box\n    var infobox = titleinfo_list.append(\"div\")\n      .attr(\"id\", \"titleinfo_event_\"+i)\n      .style(\"display\", \"none\");\n\n    // Appname and duration text\n    infobox.append(\"h5\")\n      .attr(\"x\", \"10px\")\n      .attr(\"y\", \"20px\")\n      .text(chunkfunc(e) + \" (\" + time.seconds_to_duration(e.duration) + \")\")\n      .attr(\"font-family\", \"sans-serif\")\n      .attr(\"font-size\", \"20px\")\n      .attr(\"fill\", \"black\");\n\n    // Titleinfo\n    var infolist = infobox.append(\"table\");\n    _.each(e.data.subevents, function(t) {\n      var inforow = infolist.append(\"tr\");\n      // Clocktime\n      var clocktime = moment(t.timestamp).format(\"HH:mm:ss\");\n      inforow.append(\"td\")\n        .text(clocktime);\n      // Duration\n      var duration = time.seconds_to_duration(t.duration);\n      inforow.append(\"td\")\n        .text(duration)\n        .style(\"padding-left\", \"1em\")\n        .style(\"text-align\", \"right\");\n      // Title\n      inforow.append(\"td\")\n        .text(eventfunc(t))\n        .style(\"padding-left\", \"1em\");\n    });\n\n    curr_x += eventWidth;\n  });\n\n  return container;\n}\n\nexport default {\n  \"create\": create,\n  \"update\": update,\n  \"set_status\": set_status,\n};\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimelineInspect.vue?vue&type=script&lang=js&\"","<template lang=\"pug\">\ndiv\n</template>\n\n<style scoped lang=\"scss\">\nsvg {\n    border: 1px solid #999;\n    border-radius: 0.5em;\n}\n</style>\n\n<script>\n// NOTE: This is just a Vue.js component wrapper for timeline.js\n//       Code should generally go in the framework-independent file.\n\nimport timeline from './timeline.js';\n\nexport default {\n  name: \"aw-timeline\",\n  props: ['chunks', 'total_duration', 'show_afk', 'chunkfunc', 'eventfunc'],\n  mounted: function() {\n    timeline.create(this.$el);\n  },\n  watch: {\n    \"chunks\": function() {\n      if(this.chunks.length == 0) {\n        timeline.set_status(this.$el, 'Loading...')\n      } else {\n        timeline.update(this.$el, this.chunks, this.total_duration, this.show_afk, this.chunkfunc, this.eventfunc);\n      }\n    },\n    \"show_afk\": function() {\n      timeline.update(this.$el, this.chunks, this.total_duration, this.show_afk, this.chunkfunc, this.eventfunc);\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TimelineInspect.vue?vue&type=template&id=2a64f56e&scoped=true&lang=pug&\"\nimport script from \"./TimelineInspect.vue?vue&type=script&lang=js&\"\nexport * from \"./TimelineInspect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimelineInspect.vue?vue&type=style&index=0&id=2a64f56e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a64f56e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}